<Type Name="TypeMapAssociationAttribute&lt;TTypeMapGroup&gt;" FullName="System.Runtime.InteropServices.TypeMapAssociationAttribute&lt;TTypeMapGroup&gt;">
  <TypeSignature Language="C#" Value="public sealed class TypeMapAssociationAttribute&lt;TTypeMapGroup&gt; : Attribute" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi sealed beforefieldinit TypeMapAssociationAttribute`1&lt;TTypeMapGroup&gt; extends System.Attribute" />
  <TypeSignature Language="DocId" Value="T:System.Runtime.InteropServices.TypeMapAssociationAttribute`1" />
  <TypeSignature Language="VB.NET" Value="Public NotInheritable Class TypeMapAssociationAttribute(Of TTypeMapGroup)&#xA;Inherits Attribute" />
  <TypeSignature Language="F#" Value="type TypeMapAssociationAttribute&lt;'ypeMapGroup&gt; = class&#xA;    inherit Attribute" />
  <TypeSignature Language="C++ CLI" Value="generic &lt;typename TTypeMapGroup&gt;&#xA;public ref class TypeMapAssociationAttribute sealed : Attribute" />
  <AssemblyInfo>
    <AssemblyName>System.Runtime.InteropServices</AssemblyName>
    <AssemblyVersion>10.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <TypeParameters>
    <TypeParameter Name="TTypeMapGroup">
      <Attributes>
        <Attribute>
          <AttributeName Language="C#">[System.Runtime.CompilerServices.Nullable(2)]</AttributeName>
          <AttributeName Language="F#">[&lt;System.Runtime.CompilerServices.Nullable(2)&gt;]</AttributeName>
        </Attribute>
      </Attributes>
    </TypeParameter>
  </TypeParameters>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName Language="C#">[System.AttributeUsage(System.AttributeTargets.Assembly, AllowMultiple=true)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.AttributeUsage(System.AttributeTargets.Assembly, AllowMultiple=true)&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <typeparam name="TTypeMapGroup">The type of the type map group.</typeparam>
    <summary>Represents an attribute that creates a type association between a type and its proxy.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[

## Remarks

Types used in a managed-to-unmanaged interop operation can use `TypeMapAssociationAttribute` to define a conditional link between the source and proxy type. If the source is kept, so is the proxy type. If trimming observes an explicit allocation of the source type, the entry is inserted into the map.

When an application is trimmed, an entry in the Proxy Type Map is included when the "source type" is referenced in one of the following ways in reachable code:

- The argument to the `ldtoken` IL instruction when <xref:System.Diagnostics.CodeAnalysis.DynamicallyAccessedMembersAttribute> is specified with one of the flags that preserves constructors for the storage location.
- Calls to <xref:System.Type.GetType%2A?displayProperty=nameWithType> with a constant string representing the type name when <xref:System.Diagnostics.CodeAnalysis.DynamicallyAccessedMembersAttribute> is specified with one of the flags that preserves constructors for the storage location.
- The type of a method argument to the `newobj` instruction.
- The generic argument to the <xref:System.Activator.CreateInstance%60%601> method.
- The argument to the `box` instruction.
- The argument to the `newarr` instruction.
- The argument to the `mkrefany` instruction.
- The argument to the `refanyval` instruction.

If the type is an interface type and the user could possibly see a `RuntimeTypeHandle` for the type as part of a casting or virtual method resolution operation (such as with <xref:System.Runtime.InteropServices.IDynamicInterfaceCastable>), then the following cases also apply:

- The argument to the `isinst` IL instruction.
- The argument to the `castclass` IL instruction.
- The owning type of the method argument to `callvirt` or `ldvirtftn`.

Finally, if the trimming tool determines that it's impossible to retrieve a <xref:System.Type> instance that represents the "source type" at runtime, then the entry might be omitted from the Proxy Type Map as its existence is unobservable.

> [!IMPORTANT]
> Conflicting key/value mappings are not allowed.

> [!NOTE]
> The underlying format of the produced maps is implementation-defined. Different .NET form factors might use different formats. Additionally, it's not guaranteed that the `TypeMapAttribute`, `TypeMapAssociationAttribute`, and `TypeMapAssemblyTargetAttribute` attributes are present in the final image after a trimming tool has been run.

      ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public TypeMapAssociationAttribute (Type source, Type proxy);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(class System.Type source, class System.Type proxy) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Runtime.InteropServices.TypeMapAssociationAttribute`1.#ctor(System.Type,System.Type)" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (source As Type, proxy As Type)" />
      <MemberSignature Language="F#" Value="new System.Runtime.InteropServices.TypeMapAssociationAttribute&lt;'ypeMapGroup&gt; : Type * Type -&gt; System.Runtime.InteropServices.TypeMapAssociationAttribute&lt;'ypeMapGroup&gt;" Usage="new System.Runtime.InteropServices.TypeMapAssociationAttribute&lt;'ypeMapGroup&gt; (source, proxy)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; TypeMapAssociationAttribute(Type ^ source, Type ^ proxy);" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Runtime.InteropServices</AssemblyName>
        <AssemblyVersion>10.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="source" Type="System.Type" />
        <Parameter Name="proxy" Type="System.Type" />
      </Parameters>
      <Docs>
        <param name="source">The target type.</param>
        <param name="proxy">The type to associate with <paramref name="source" />.</param>
        <summary>Initializes a new instance of <see cref="T:System.Runtime.InteropServices.TypeMapAssociationAttribute`1" />.</summary>
        <remarks>
          <para>This mapping will only exist in the type map if trimming observes an allocation using the <see cref="T:System.Type" /> represented by <paramref name="source" />.</para>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>
